{"version":3,"sources":["assets/profile.png","assets/hoaxify.png","serviceWorker.js","i18n.js","components/Input.js","components/ButtonWithProgress.js","shared/ApiProgress.js","api/apiCalls.js","redux/authActions.js","redux/Constants.js","pages/UserSignupPage.js","pages/LoginPage.js","components/LanguageSelector.js","components/ProfileImageWithDefault.js","components/UserListItem.js","components/Spinner.js","components/UserList.js","components/AutoUploadImage.js","components/HoaxSubmit.js","components/Modal.js","components/HoaxView.js","components/HoaxFeed.js","pages/HomePage.js","components/ProfileCard.js","pages/UserPage.js","components/TopBar.js","container/App.js","redux/authReducer.js","redux/configureStore.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","i18n","use","initReactI18next","init","resources","en","translations","Username","Password","Login","Logout","Users","Next","Previous","Edit","Save","Cancel","tr","fallbackLng","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","register","number","index","Input","props","label","error","name","onChange","type","defaultValue","className","undefined","ButtonWithProgress","onClick","pendingApiCall","disabled","text","useApiProgress","apiMethod","apiPath","strictPath","useState","setPendingApiCall","useEffect","requestInterceptor","responseInterceptor","updateApiCallFor","method","url","inProgress","startsWith","axios","interceptors","request","response","config","eject","getUsers","page","size","get","setAuthorizationHeader","isLoggedIn","token","authorizationHeaderValue","defaults","headers","getUser","username","updateUser","body","put","postHoax","hoax","post","getHoaxes","path","getOldHoaxes","id","getNewHoaxCount","getNewHoaxes","postHoaxAttachment","attachment","deleteHoax","delete","deleteUser","logoutSuccess","dispatch","a","loginSuccess","authState","payload","loginHandler","credentials","creds","data","user","password","signupHandler","UserSignupPage","passwordRepeatError","displayName","passwordRepeat","form","setForm","errors","setErrors","useDispatch","event","target","value","previousErrors","previousForm","onClickSignup","preventDefault","history","push","validationErrors","t","useTranslation","usernameError","displayNameError","passwordError","pendingApiCallSignup","pendingApiCallLogin","LoginPage","setUsername","setPassword","setError","onClickLogin","message","buttonEnabled","LanguageSelector","onChangeLanguage","language","changeLanguage","src","alt","style","cursor","ProfileImageWithDefault","image","tempimage","imageSource","defaultPicture","onError","UserListItem","to","width","height","Spinner","UserList","content","setPage","loadFailure","setLoadFailure","loadUsers","users","last","first","actionDiv","previousPage","nextPage","map","key","AutoUploadImage","uploading","position","opacity","HoaxSubmit","useSelector","store","focused","setFocused","setHoax","newImage","setNewImage","attachmentId","setAttachmentId","pendingFileUpload","onClickHoaxify","uploadFile","file","FormData","append","textAreaClass","rows","onFocus","files","length","fileReader","FileReader","onloadend","result","readAsDataURL","Modal","visible","onClickCancel","onClickOk","title","okButton","backgroundColor","HoaxView","loggedInUser","onDeleteHoax","timestamp","fileAttachment","modalVisible","setModalVisible","onClickDelete","formatted","format","ownedByLoggedInUser","fileType","HoaxFeed","hoaxPage","setHoaxPage","newHoaxCount","setNewHoaxCount","useParams","initialHoaxLoadProgress","lastHoaxId","firstHoaxId","lastHoaxIndex","oldHoaxPath","loadOldHoaxesProgress","newHoaxPath","loadNewHoaxesProgress","looper","setInterval","count","clearInterval","previousHoaxPage","loadHoaxes","loadOldHoaxes","loadNewHoaxes","onDeleteHoaxSuccess","filter","HomePage","ProfileCard","inEditMode","setInEditMode","updatedDisplayName","setUpdatedDisplayName","loggedInUsername","pathUsername","setUser","editable","setEditable","setValidationErrors","useHistory","previousValidationErrors","pendingApiCallDeleteUser","onClickSave","split","onClickDeleteUser","imageError","UserPage","notFound","setNotFound","loadUser","fontSize","TopBar","menuArea","useRef","menuVisible","setMenuVisible","document","addEventListener","menuClickTracker","removeEventListener","current","contains","links","dropDownClass","ref","logo","App","exact","component","defaultState","authReducer","state","action","secureLs","SecureLS","initialState","hoaxAuth","getStateFromStorage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","subscribe","newState","getState","set","configureStore","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.be5b0c11.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/profile.926fda93.png\";","module.exports = __webpack_public_path__ + \"static/media/hoaxify.2dcb4821.png\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport { register } from 'timeago.js';\r\n\r\ni18n.use(initReactI18next).init({\r\n  resources: {\r\n    en: {\r\n      translations: {\r\n        'Sign Up': 'Sign Up',\r\n        'Password mismatch': 'Password mismatch',\r\n        Username: 'Username',\r\n        'Display Name': 'Display Name',\r\n        Password: 'Password',\r\n        'Password Repeat': 'Password Repeat',\r\n        Login: 'Login',\r\n        Logout: 'Logout',\r\n        Users: 'Users',\r\n        Next: 'next >',\r\n        Previous: '< previous',\r\n        'Load Failure': 'Load Failure',\r\n        'User not found': 'User not found',\r\n        Edit: 'Edit',\r\n        'Change Display Name': 'Change Display Name',\r\n        Save: 'Save',\r\n        Cancel: 'Cancel',\r\n        'My Profile': 'My Profile',\r\n        'There are no hoaxes': 'There are no hoaxes',\r\n        'Load old hoaxes': 'Load old hoaxes',\r\n        'There are new hoaxes': 'There are new hoaxes',\r\n        'Delete Hoax': 'Delete Hoax',\r\n        'Are you sure to delete hoax?': 'Are you sure to delete hoax?',\r\n        'Delete My Account': 'Delete My Account',\r\n        'Are you sure to delete your account?': 'Are you sure to delete your account?'\r\n      }\r\n    },\r\n    tr: {\r\n      translations: {\r\n        'Sign Up': 'Kayıt Ol',\r\n        'Password mismatch': 'Aynı şifreyi giriniz',\r\n        Username: 'Kullanıcı Adı',\r\n        'Display Name': 'Tercih Edilen İsim',\r\n        Password: 'Şifre',\r\n        'Password Repeat': 'Şifreyi Tekrarla',\r\n        Login: 'Sisteme Gir',\r\n        Logout: 'Çık',\r\n        Users: 'Kullanıcılar',\r\n        Next: 'sonraki >',\r\n        Previous: '< önceki',\r\n        'Load Failure': 'Liste alınamadı',\r\n        'User not found': 'Kullanıcı bulunamadı',\r\n        Edit: 'Düzenle',\r\n        'Change Display Name': 'Görünür İsminizi Değiştirin',\r\n        Save: 'Kaydet',\r\n        Cancel: 'İptal Et',\r\n        'My Profile': 'Hesabım',\r\n        'There are no hoaxes': 'Hoax bulunamadı',\r\n        'Load old hoaxes': 'Geçmiş Hoaxları getir',\r\n        'There are new hoaxes': 'Yeni Hoaxlar var',\r\n        'Delete Hoax': `Hoax'u sil`,\r\n        'Are you sure to delete hoax?': `Hoax'u silmek istedğinizden emin misiniz?`,\r\n        'Delete My Account': 'Hesabımı Sil',\r\n        'Are you sure to delete your account?': 'Hesabınızı silmek istediğinizden emin misiniz?'\r\n      }\r\n    }\r\n  },\r\n  fallbackLng: 'en',\r\n  ns: ['translations'],\r\n  defaultNS: 'translations',\r\n  keySeparator: false,\r\n  interpolation: {\r\n    escapeValue: false,\r\n    formatSeparator: ','\r\n  },\r\n  react: {\r\n    wait: true\r\n  }\r\n});\r\n\r\nconst timeageTR = (number, index) => {\r\n  return [\r\n    ['az önce', 'şimdi'],\r\n    ['%s saniye önce', '%s saniye içinde'],\r\n    ['1 dakika önce', '1 dakika içinde'],\r\n    ['%s dakika önce', '%s dakika içinde'],\r\n    ['1 saat önce', '1 saat içinde'],\r\n    ['%s saat önce', '%s saat içinde'],\r\n    ['1 gün önce', '1 gün içinde'],\r\n    ['%s gün önce', '%s gün içinde'],\r\n    ['1 hafta önce', '1 hafta içinde'],\r\n    ['%s hafta önce', '%s hafta içinde'],\r\n    ['1 ay önce', '1 ay içinde'],\r\n    ['%s ay önce', '%s ay içinde'],\r\n    ['1 yıl önce', '1 yıl içinde'],\r\n    ['%s yıl önce', '%s yıl içinde']\r\n  ][index];\r\n};\r\nregister('tr', timeageTR);\r\n\r\nexport default i18n;\r\n","import React from 'react';\r\n\r\nconst Input = props => {\r\n  const { label, error, name, onChange, type, defaultValue } = props;\r\n  let className = 'form-control';\r\n\r\n  if (type === 'file') {\r\n    className += '-file';\r\n  }\r\n\r\n  if (error !== undefined) {\r\n    className += ' is-invalid';\r\n  }\r\n\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label>{label}</label>\r\n      <input className={className} name={name} onChange={onChange} type={type} defaultValue={defaultValue} />\r\n      <div className=\"invalid-feedback\">{props.error}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React from 'react';\r\n\r\nconst ButtonWithProgress = props => {\r\n  const { onClick, pendingApiCall, disabled, text, className } = props;\r\n\r\n  return (\r\n    <button className={className || 'btn btn-primary'} onClick={onClick} disabled={disabled}>\r\n      {pendingApiCall && <span className=\"spinner-border spinner-border-sm\"></span>} {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ButtonWithProgress;\r\n","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport const useApiProgress = (apiMethod, apiPath, strictPath) => {\r\n  const [pendingApiCall, setPendingApiCall] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let requestInterceptor, responseInterceptor;\r\n\r\n    const updateApiCallFor = (method, url, inProgress) => {\r\n      if (method !== apiMethod) {\r\n        return;\r\n      }\r\n      if (strictPath && url === apiPath) {\r\n        setPendingApiCall(inProgress);\r\n      } else if (!strictPath && url.startsWith(apiPath)) {\r\n        setPendingApiCall(inProgress);\r\n      }\r\n    };\r\n\r\n    const registerInterceptors = () => {\r\n      requestInterceptor = axios.interceptors.request.use(request => {\r\n        const { url, method } = request;\r\n        updateApiCallFor(method, url, true);\r\n        return request;\r\n      });\r\n\r\n      responseInterceptor = axios.interceptors.response.use(\r\n        response => {\r\n          const { url, method } = response.config;\r\n          updateApiCallFor(method, url, false);\r\n          return response;\r\n        },\r\n        error => {\r\n          const { url, method } = error.config;\r\n          updateApiCallFor(method, url, false);\r\n          throw error;\r\n        }\r\n      );\r\n    };\r\n\r\n    const unregisterInterceptors = () => {\r\n      axios.interceptors.request.eject(requestInterceptor);\r\n      axios.interceptors.response.eject(responseInterceptor);\r\n    };\r\n\r\n    registerInterceptors();\r\n\r\n    return function unmount() {\r\n      unregisterInterceptors();\r\n    };\r\n  }, [apiPath, apiMethod, strictPath]);\r\n\r\n  return pendingApiCall;\r\n};\r\n","import axios from 'axios';\r\n\r\nexport const signup = body => {\r\n  return axios.post('/api/1.0/users', body);\r\n};\r\n\r\nexport const login = creds => {\r\n  return axios.post('/api/1.0/auth', creds);\r\n};\r\n\r\nexport const logout = () => {\r\n  return axios.post('/api/1.0/logout');\r\n}\r\n\r\nexport const changeLanguage = language => {\r\n  axios.defaults.headers['accept-language'] = language;\r\n};\r\n\r\nexport const getUsers = (page = 0, size = 3) => {\r\n  return axios.get(`/api/1.0/users?page=${page}&size=${size}`);\r\n};\r\n\r\nexport const setAuthorizationHeader = ({ isLoggedIn, token }) => {\r\n  if (isLoggedIn) {\r\n    const authorizationHeaderValue = `Bearer ${token}`;\r\n    axios.defaults.headers['Authorization'] = authorizationHeaderValue;\r\n  } else {\r\n    delete axios.defaults.headers['Authorization'];\r\n  }\r\n};\r\n\r\nexport const getUser = username => {\r\n  return axios.get(`/api/1.0/users/${username}`);\r\n};\r\n\r\nexport const updateUser = (username, body) => {\r\n  return axios.put(`/api/1.0/users/${username}`, body);\r\n};\r\n\r\nexport const postHoax = hoax => {\r\n  return axios.post('/api/1.0/hoaxes', hoax);\r\n};\r\n\r\nexport const getHoaxes = (username, page = 0) => {\r\n  const path = username ? `/api/1.0/users/${username}/hoaxes?page=` : '/api/1.0/hoaxes?page=';\r\n  return axios.get(path + page);\r\n};\r\n\r\nexport const getOldHoaxes = (id, username) => {\r\n  const path = username ? `/api/1.0/users/${username}/hoaxes/${id}` : `/api/1.0/hoaxes/${id}`;\r\n  return axios.get(path);\r\n};\r\n\r\nexport const getNewHoaxCount = (id, username) => {\r\n  const path = username ? `/api/1.0/users/${username}/hoaxes/${id}?count=true` : `/api/1.0/hoaxes/${id}?count=true`;\r\n  return axios.get(path);\r\n};\r\n\r\nexport const getNewHoaxes = (id, username) => {\r\n  const path = username ? `/api/1.0/users/${username}/hoaxes/${id}?direction=after` : `/api/1.0/hoaxes/${id}?direction=after`;\r\n  return axios.get(path);\r\n};\r\n\r\nexport const postHoaxAttachment = attachment => {\r\n  return axios.post('/api/1.0/hoax-attachments', attachment);\r\n};\r\n\r\nexport const deleteHoax = id => {\r\n  return axios.delete(`/api/1.0/hoaxes/${id}`);\r\n};\r\n\r\nexport const deleteUser = username => {\r\n  return axios.delete(`/api/1.0/users/${username}`);\r\n};\r\n","import * as ACTIONS from './Constants';\r\nimport { login, signup, logout } from '../api/apiCalls';\r\n\r\nexport const logoutSuccess = () => {\r\n  return async function(dispatch){\r\n    try {\r\n      await logout();\r\n    } catch (err){\r\n\r\n    }\r\n    dispatch({\r\n      type: ACTIONS.LOGOUT_SUCCESS\r\n    })\r\n  }\r\n};\r\n\r\nexport const loginSuccess = authState => {\r\n  return {\r\n    type: ACTIONS.LOGIN_SUCCESS,\r\n    payload: authState\r\n  };\r\n};\r\n\r\nexport const updateSuccess = ({ displayName, image }) => {\r\n  return {\r\n    type: ACTIONS.UPDATE_SUCCESS,\r\n    payload: {\r\n      displayName,\r\n      image\r\n    }\r\n  };\r\n};\r\n\r\nexport const loginHandler = credentials => {\r\n  return async function(dispatch) {\r\n    const response = await login(credentials);\r\n    const authState = {\r\n      ...response.data.user,\r\n      password: credentials.password,\r\n      token: response.data.token\r\n    };\r\n    dispatch(loginSuccess(authState));\r\n    return response;\r\n  };\r\n};\r\n\r\nexport const signupHandler = user => {\r\n  return async function(dispatch) {\r\n    const response = await signup(user);\r\n    await dispatch(loginHandler(user));\r\n    return response;\r\n  };\r\n};\r\n","export const LOGOUT_SUCCESS = 'logout-success';\r\nexport const LOGIN_SUCCESS = 'login-success';\r\nexport const UPDATE_SUCCESS = 'update-success';\r\n","import React, { useState } from 'react';\r\nimport Input from '../components/Input';\r\nimport { useTranslation } from 'react-i18next';\r\nimport ButtonWithProgress from '../components/ButtonWithProgress';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport { useDispatch } from 'react-redux';\r\nimport { signupHandler } from '../redux/authActions';\r\n\r\nconst UserSignupPage = (props) => {\r\n  const [form, setForm] = useState({\r\n    username: null,\r\n    displayName: null,\r\n    password: null,\r\n    passwordRepeat: null,\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    setErrors((previousErrors) => ({ ...previousErrors, [name]: undefined }));\r\n    setForm((previousForm) => ({ ...previousForm, [name]: value }));\r\n  };\r\n\r\n  const onClickSignup = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const { history } = props;\r\n    const { push } = history;\r\n\r\n    const { username, displayName, password } = form;\r\n\r\n    const body = {\r\n      username,\r\n      displayName,\r\n      password,\r\n    };\r\n\r\n    try {\r\n      await dispatch(signupHandler(body));\r\n      push('/');\r\n    } catch (error) {\r\n      if (error.response.data.validationErrors) {\r\n        setErrors(error.response.data.validationErrors);\r\n      }\r\n    }\r\n  };\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const { username: usernameError, displayName: displayNameError, password: passwordError } = errors;\r\n  const pendingApiCallSignup = useApiProgress('post', '/api/1.0/users');\r\n  const pendingApiCallLogin = useApiProgress('post', '/api/1.0/auth');\r\n\r\n  const pendingApiCall = pendingApiCallSignup || pendingApiCallLogin;\r\n\r\n  let passwordRepeatError;\r\n  if (form.password !== form.passwordRepeat) {\r\n    passwordRepeatError = t('Password mismatch');\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form>\r\n        <h1 className=\"text-center\">{t('Sign Up')}</h1>\r\n        <Input name=\"username\" label={t('Username')} error={usernameError} onChange={onChange} />\r\n        <Input name=\"displayName\" label={t('Display Name')} error={displayNameError} onChange={onChange} />\r\n        <Input name=\"password\" label={t('Password')} error={passwordError} onChange={onChange} type=\"password\" />\r\n        <Input name=\"passwordRepeat\" label={t('Password Repeat')} error={passwordRepeatError} onChange={onChange} type=\"password\" />\r\n        <div className=\"text-center\">\r\n          <ButtonWithProgress\r\n            onClick={onClickSignup}\r\n            disabled={pendingApiCall || passwordRepeatError !== undefined}\r\n            pendingApiCall={pendingApiCall}\r\n            text={t('Sign Up')}\r\n          />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserSignupPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Input from '../components/Input';\r\nimport { useTranslation } from 'react-i18next';\r\nimport ButtonWithProgress from '../components/ButtonWithProgress';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginHandler } from '../redux/authActions';\r\n\r\nconst LoginPage = props => {\r\n  const [username, setUsername] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setError(undefined);\r\n  }, [username, password]);\r\n\r\n  const onClickLogin = async event => {\r\n    event.preventDefault();\r\n    const creds = {\r\n      username,\r\n      password\r\n    };\r\n\r\n    const { history } = props;\r\n    const { push } = history;\r\n\r\n    setError(undefined);\r\n    try {\r\n      await dispatch(loginHandler(creds));\r\n      push('/');\r\n    } catch (apiError) {\r\n      setError(apiError.response.data.message);\r\n    }\r\n  };\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const pendingApiCall = useApiProgress('post', '/api/1.0/auth');\r\n\r\n  const buttonEnabled = username && password;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form>\r\n        <h1 className=\"text-center\">{t('Login')}</h1>\r\n        <Input label={t('Username')} onChange={event => setUsername(event.target.value)} />\r\n        <Input label={t('Password')} type=\"password\" onChange={event => setPassword(event.target.value)} />\r\n        {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        <div className=\"text-center\">\r\n          <ButtonWithProgress onClick={onClickLogin} disabled={!buttonEnabled || pendingApiCall} pendingApiCall={pendingApiCall} text={t('Login')} />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { changeLanguage } from '../api/apiCalls';\r\n\r\nconst LanguageSelector = props => {\r\n  const { i18n } = useTranslation();\r\n\r\n  const onChangeLanguage = language => {\r\n    i18n.changeLanguage(language);\r\n    changeLanguage(language);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <img\r\n        src=\"https://www.countryflags.io/tr/flat/24.png\"\r\n        alt=\"Turkish Flag\"\r\n        onClick={() => onChangeLanguage('tr')}\r\n        style={{ cursor: 'pointer' }}\r\n      ></img>\r\n      <img src=\"https://www.countryflags.io/us/flat/24.png\" alt=\"USA Flag\" onClick={() => onChangeLanguage('en')} style={{ cursor: 'pointer' }}></img>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LanguageSelector;\r\n","import React from 'react';\r\nimport defaultPicture from '../assets/profile.png';\r\n\r\nconst ProfileImageWithDefault = props => {\r\n  const { image, tempimage } = props;\r\n\r\n  let imageSource = defaultPicture;\r\n  if (image) {\r\n    imageSource = 'images/profile/' + image;\r\n  }\r\n  return (\r\n    <img\r\n      alt={`Profile`}\r\n      src={tempimage || imageSource}\r\n      {...props}\r\n      onError={event => {\r\n        event.target.src = defaultPicture;\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProfileImageWithDefault;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\n\r\nconst UserListItem = props => {\r\n  const { user } = props;\r\n  const { username, displayName, image } = user;\r\n\r\n  return (\r\n    <Link to={`/user/${username}`} className=\"list-group-item list-group-item-action\">\r\n      <ProfileImageWithDefault className=\"rounded-circle\" width=\"32\" height=\"32\" alt={`${username} profile`} image={image} />\r\n      <span className=\"pl-2\">\r\n        {displayName}@{username}\r\n      </span>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default UserListItem;\r\n","import React from 'react';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"d-flex justify-content-center\">\r\n      <div className=\"spinner-border text-black-50\">\r\n        <span className=\"sr-only\">Loading...</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { getUsers } from '../api/apiCalls';\r\nimport { useTranslation } from 'react-i18next';\r\nimport UserListItem from './UserListItem';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport Spinner from './Spinner';\r\n\r\nconst UserList = () => {\r\n  const [page, setPage] = useState({\r\n    content: [],\r\n    size: 3,\r\n    number: 0\r\n  });\r\n\r\n  const [loadFailure, setLoadFailure] = useState(false);\r\n\r\n  const pendingApiCall = useApiProgress('get', '/api/1.0/users?page');\r\n\r\n  useEffect(() => {\r\n    loadUsers();\r\n  }, []);\r\n\r\n  const onClickNext = () => {\r\n    const nextPage = page.number + 1;\r\n    loadUsers(nextPage);\r\n  };\r\n\r\n  const onClickPrevious = () => {\r\n    const previousPage = page.number - 1;\r\n    loadUsers(previousPage);\r\n  };\r\n\r\n  const loadUsers = async page => {\r\n    setLoadFailure(false);\r\n    try {\r\n      const response = await getUsers(page);\r\n      setPage(response.data);\r\n    } catch (error) {\r\n      setLoadFailure(true);\r\n    }\r\n  };\r\n\r\n  const { t } = useTranslation();\r\n  const { content: users, last, first } = page;\r\n\r\n  let actionDiv = (\r\n    <div>\r\n      {first === false && (\r\n        <button className=\"btn btn-sm btn-light\" onClick={onClickPrevious}>\r\n          {t('Previous')}\r\n        </button>\r\n      )}\r\n      {last === false && (\r\n        <button className=\"btn btn-sm btn-light float-right\" onClick={onClickNext}>\r\n          {t('Next')}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  if (pendingApiCall) {\r\n    actionDiv = <Spinner />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h3 className=\"card-header text-center\">{t('Users')}</h3>\r\n      <div className=\"list-group-flush\">\r\n        {users.map(user => (\r\n          <UserListItem key={user.username} user={user} />\r\n        ))}\r\n      </div>\r\n      {actionDiv}\r\n      {loadFailure && <div className=\"text-center text-danger\">{t('Load Failure')}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n","import React from 'react';\r\nimport './AutoUploadImage.css';\r\n\r\nconst AutoUploadImage = ({ image, uploading }) => {\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <img className=\"img-thumbnail\" src={image} alt=\"hoax-attachment\" />\r\n      <div className=\"overlay\" style={{ opacity: uploading ? 1 : 0 }}>\r\n        <div className=\"d-flex justify-content-center h-100\">\r\n          <div className=\"spinner-border text-light m-auto\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AutoUploadImage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { postHoax, postHoaxAttachment } from '../api/apiCalls';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\nimport Input from './Input';\r\nimport AutoUploadImage from './AutoUploadImage';\r\n\r\nconst HoaxSubmit = () => {\r\n  const { image } = useSelector(store => ({ image: store.image }));\r\n  const [focused, setFocused] = useState(false);\r\n  const [hoax, setHoax] = useState('');\r\n  const [errors, setErrors] = useState({});\r\n  const [newImage, setNewImage] = useState();\r\n  const [attachmentId, setAttachmentId] = useState();\r\n  const { t } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    if (!focused) {\r\n      setHoax('');\r\n      setErrors({});\r\n      setNewImage();\r\n      setAttachmentId();\r\n    }\r\n  }, [focused]);\r\n\r\n  useEffect(() => {\r\n    setErrors({});\r\n  }, [hoax]);\r\n\r\n  const pendingApiCall = useApiProgress('post', '/api/1.0/hoaxes', true);\r\n  const pendingFileUpload = useApiProgress('post', '/api/1.0/hoax-attachments', true);\r\n\r\n  const onClickHoaxify = async () => {\r\n    const body = {\r\n      content: hoax,\r\n      attachmentId: attachmentId\r\n    };\r\n\r\n    try {\r\n      await postHoax(body);\r\n      setFocused(false);\r\n    } catch (error) {\r\n      if (error.response.data.validationErrors) {\r\n        setErrors(error.response.data.validationErrors);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onChangeFile = event => {\r\n    if (event.target.files.length < 1) {\r\n      return;\r\n    }\r\n    const file = event.target.files[0];\r\n    const fileReader = new FileReader();\r\n    fileReader.onloadend = () => {\r\n      setNewImage(fileReader.result);\r\n      uploadFile(file);\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  };\r\n\r\n  const uploadFile = async file => {\r\n    const attachment = new FormData();\r\n    attachment.append('file', file);\r\n    const response = await postHoaxAttachment(attachment);\r\n    setAttachmentId(response.data.id);\r\n  };\r\n\r\n  let textAreaClass = 'form-control';\r\n  if (errors.content) {\r\n    textAreaClass += ' is-invalid';\r\n  }\r\n\r\n  return (\r\n    <div className=\"card p-1 flex-row\">\r\n      <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle mr-1\" />\r\n      <div className=\"flex-fill\">\r\n        <textarea\r\n          className={textAreaClass}\r\n          rows={focused ? '3' : '1'}\r\n          onFocus={() => setFocused(true)}\r\n          onChange={event => setHoax(event.target.value)}\r\n          value={hoax}\r\n        />\r\n        <div className=\"invalid-feedback\">{errors.content}</div>\r\n        {focused && (\r\n          <>\r\n            {!newImage && <Input type=\"file\" onChange={onChangeFile} />}\r\n            {newImage && <AutoUploadImage image={newImage} uploading={pendingFileUpload} />}\r\n            <div className=\"text-right mt-1\">\r\n              <ButtonWithProgress\r\n                className=\"btn btn-primary\"\r\n                onClick={onClickHoaxify}\r\n                text=\"Hoaxify\"\r\n                pendingApiCall={pendingApiCall}\r\n                disabled={pendingApiCall || pendingFileUpload}\r\n              />\r\n              <button className=\"btn btn-light d-inline-flex ml-1\" onClick={() => setFocused(false)} disabled={pendingApiCall || pendingFileUpload}>\r\n                <i className=\"material-icons\">close</i>\r\n                {t('Cancel')}\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HoaxSubmit;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\n\r\nconst Modal = props => {\r\n  const { visible, onClickCancel, message, onClickOk, pendingApiCall, title, okButton } = props;\r\n  const { t } = useTranslation();\r\n\r\n  let className = 'modal fade';\r\n  if (visible) {\r\n    className += ' show d-block';\r\n  }\r\n\r\n  return (\r\n    <div className={className} style={{ backgroundColor: '#000000b0' }}>\r\n      <div className=\"modal-dialog\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">{title}</h5>\r\n          </div>\r\n          <div className=\"modal-body\">{message}</div>\r\n          <div className=\"modal-footer\">\r\n            <button className=\"btn btn-secondary\" disabled={pendingApiCall} onClick={onClickCancel}>\r\n              {t('Cancel')}\r\n            </button>\r\n            <ButtonWithProgress\r\n              className=\"btn btn-danger\"\r\n              onClick={onClickOk}\r\n              pendingApiCall={pendingApiCall}\r\n              disabled={pendingApiCall}\r\n              text={okButton}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState } from 'react';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { Link } from 'react-router-dom';\r\nimport { format } from 'timeago.js';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useSelector } from 'react-redux';\r\nimport { deleteHoax } from '../api/apiCalls';\r\nimport Modal from './Modal';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\n\r\nconst HoaxView = props => {\r\n  const loggedInUser = useSelector(store => store.username);\r\n  const { hoax, onDeleteHoax } = props;\r\n  const { user, content, timestamp, fileAttachment, id } = hoax;\r\n  const { username, displayName, image } = user;\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n\r\n  const pendingApiCall = useApiProgress('delete', `/api/1.0/hoaxes/${id}`, true);\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const onClickDelete = async () => {\r\n    await deleteHoax(id);\r\n    onDeleteHoax(id);\r\n  };\r\n\r\n  const onClickCancel = () => {\r\n    setModalVisible(false);\r\n  };\r\n\r\n  const formatted = format(timestamp, i18n.language);\r\n\r\n  const ownedByLoggedInUser = loggedInUser === username;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card p-1\">\r\n        <div className=\"d-flex\">\r\n          <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle m-1\" />\r\n          <div className=\"flex-fill m-auto pl-2\">\r\n            <Link to={`/user/${username}`} className=\"text-dark\">\r\n              <h6 className=\"d-inline\">\r\n                {displayName}@{username}\r\n              </h6>\r\n              <span> - </span>\r\n              <span>{formatted}</span>\r\n            </Link>\r\n          </div>\r\n          {ownedByLoggedInUser && (\r\n            <button className=\"btn btn-delete-link btn-sm\" onClick={() => setModalVisible(true)}>\r\n              <i className=\"material-icons\">delete_outline</i>\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"pl-5\">{content}</div>\r\n        {fileAttachment && (\r\n          <div className=\"pl-5\">\r\n            {fileAttachment.fileType.startsWith('image') && (\r\n              <img className=\"img-fluid\" src={'images/attachments/' + fileAttachment.name} alt={content} />\r\n            )}\r\n            {!fileAttachment.fileType.startsWith('image') && <strong>Hoax has unknown attachment</strong>}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Modal\r\n        visible={modalVisible}\r\n        title={t('Delete Hoax')}\r\n        onClickCancel={onClickCancel}\r\n        onClickOk={onClickDelete}\r\n        message={\r\n          <div>\r\n            <div>\r\n              <strong>{t('Are you sure to delete hoax?')}</strong>\r\n            </div>\r\n            <span>{content}</span>\r\n          </div>\r\n        }\r\n        pendingApiCall={pendingApiCall}\r\n        okButton={t('Delete Hoax')}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HoaxView;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { getHoaxes, getOldHoaxes, getNewHoaxCount, getNewHoaxes } from '../api/apiCalls';\r\nimport { useTranslation } from 'react-i18next';\r\nimport HoaxView from './HoaxView';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport Spinner from './Spinner';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst HoaxFeed = () => {\r\n  const [hoaxPage, setHoaxPage] = useState({ content: [], last: true, number: 0 });\r\n  const [newHoaxCount, setNewHoaxCount] = useState(0);\r\n  const { t } = useTranslation();\r\n  const { username } = useParams();\r\n\r\n  const path = username ? `/api/1.0/users/${username}/hoaxes?page=` : '/api/1.0/hoaxes?page=';\r\n  const initialHoaxLoadProgress = useApiProgress('get', path);\r\n\r\n  let lastHoaxId = 0;\r\n  let firstHoaxId = 0;\r\n  if (hoaxPage.content.length > 0) {\r\n    firstHoaxId = hoaxPage.content[0].id;\r\n\r\n    const lastHoaxIndex = hoaxPage.content.length - 1;\r\n    lastHoaxId = hoaxPage.content[lastHoaxIndex].id;\r\n  }\r\n  const oldHoaxPath = username ? `/api/1.0/users/${username}/hoaxes/${lastHoaxId}` : `/api/1.0/hoaxes/${lastHoaxId}`;\r\n  const loadOldHoaxesProgress = useApiProgress('get', oldHoaxPath, true);\r\n\r\n  const newHoaxPath = username\r\n    ? `/api/1.0/users/${username}/hoaxes/${firstHoaxId}?direction=after`\r\n    : `/api/1.0/hoaxes/${firstHoaxId}?direction=after`;\r\n\r\n  const loadNewHoaxesProgress = useApiProgress('get', newHoaxPath, true);\r\n\r\n  useEffect(() => {\r\n    const getCount = async () => {\r\n      const response = await getNewHoaxCount(firstHoaxId, username);\r\n      setNewHoaxCount(response.data.count);\r\n    };\r\n    let looper = setInterval(getCount, 5000);\r\n    return function cleanup() {\r\n      clearInterval(looper);\r\n    };\r\n  }, [firstHoaxId, username]);\r\n\r\n  useEffect(() => {\r\n    const loadHoaxes = async page => {\r\n      try {\r\n        const response = await getHoaxes(username, page);\r\n        setHoaxPage(previousHoaxPage => ({\r\n          ...response.data,\r\n          content: [...previousHoaxPage.content, ...response.data.content]\r\n        }));\r\n      } catch (error) {}\r\n    };\r\n    loadHoaxes();\r\n  }, [username]);\r\n\r\n  const loadOldHoaxes = async () => {\r\n    const response = await getOldHoaxes(lastHoaxId, username);\r\n    setHoaxPage(previousHoaxPage => ({\r\n      ...response.data,\r\n      content: [...previousHoaxPage.content, ...response.data.content]\r\n    }));\r\n  };\r\n\r\n  const loadNewHoaxes = async () => {\r\n    const response = await getNewHoaxes(firstHoaxId, username);\r\n    setHoaxPage(previousHoaxPage => ({\r\n      ...previousHoaxPage,\r\n      content: [...response.data, ...previousHoaxPage.content]\r\n    }));\r\n    setNewHoaxCount(0);\r\n  };\r\n\r\n  const onDeleteHoaxSuccess = id => {\r\n    setHoaxPage(previousHoaxPage => ({\r\n      ...previousHoaxPage,\r\n      content: previousHoaxPage.content.filter(hoax => hoax.id !== id)\r\n    }));\r\n  };\r\n\r\n  const { content, last } = hoaxPage;\r\n\r\n  if (content.length === 0) {\r\n    return <div className=\"alert alert-secondary text-center\">{initialHoaxLoadProgress ? <Spinner /> : t('There are no hoaxes')}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {newHoaxCount > 0 && (\r\n        <div\r\n          className=\"alert alert-secondary text-center mb-1\"\r\n          style={{ cursor: loadNewHoaxesProgress ? 'not-allowed' : 'pointer' }}\r\n          onClick={loadNewHoaxesProgress ? () => {} : loadNewHoaxes}\r\n        >\r\n          {loadNewHoaxesProgress ? <Spinner /> : t('There are new hoaxes')}\r\n        </div>\r\n      )}\r\n      {content.map(hoax => {\r\n        return <HoaxView key={hoax.id} hoax={hoax} onDeleteHoax={onDeleteHoaxSuccess} />;\r\n      })}\r\n      {!last && (\r\n        <div\r\n          className=\"alert alert-secondary text-center\"\r\n          style={{ cursor: loadOldHoaxesProgress ? 'not-allowed' : 'pointer' }}\r\n          onClick={loadOldHoaxesProgress ? () => {} : loadOldHoaxes}\r\n        >\r\n          {loadOldHoaxesProgress ? <Spinner /> : t('Load old hoaxes')}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HoaxFeed;\r\n","import React from 'react';\r\nimport UserList from '../components/UserList';\r\nimport HoaxSubmit from '../components/HoaxSubmit';\r\nimport { useSelector } from 'react-redux';\r\nimport HoaxFeed from '../components/HoaxFeed';\r\n\r\nconst HomePage = () => {\r\n  const { isLoggedIn } = useSelector(store => ({ isLoggedIn: store.isLoggedIn }));\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          {isLoggedIn && (\r\n            <div className=\"mb-1\">\r\n              <HoaxSubmit />\r\n            </div>\r\n          )}\r\n          <HoaxFeed />\r\n        </div>\r\n        <div className=\"col\">\r\n          <UserList />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Input from './Input';\r\nimport { updateUser, deleteUser } from '../api/apiCalls';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\nimport { updateSuccess, logoutSuccess } from '../redux/authActions';\r\nimport Modal from './Modal';\r\n\r\nconst ProfileCard = props => {\r\n  const [inEditMode, setInEditMode] = useState(false);\r\n  const [updatedDisplayName, setUpdatedDisplayName] = useState();\r\n  const { username: loggedInUsername } = useSelector(store => ({ username: store.username }));\r\n  const routeParams = useParams();\r\n  const pathUsername = routeParams.username;\r\n  const [user, setUser] = useState({});\r\n  const [editable, setEditable] = useState(false);\r\n  const [newImage, setNewImage] = useState();\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setUser(props.user);\r\n  }, [props.user]);\r\n\r\n  useEffect(() => {\r\n    setEditable(pathUsername === loggedInUsername);\r\n  }, [pathUsername, loggedInUsername]);\r\n\r\n  useEffect(() => {\r\n    setValidationErrors(previousValidationErrors => ({\r\n      ...previousValidationErrors,\r\n      displayName: undefined\r\n    }));\r\n  }, [updatedDisplayName]);\r\n\r\n  useEffect(() => {\r\n    setValidationErrors(previousValidationErrors => ({\r\n      ...previousValidationErrors,\r\n      image: undefined\r\n    }));\r\n  }, [newImage]);\r\n\r\n  const { username, displayName, image } = user;\r\n\r\n  const pendingApiCallDeleteUser = useApiProgress('delete', `/api/1.0/users/${username}`, true);\r\n\r\n  const { t } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    if (!inEditMode) {\r\n      setUpdatedDisplayName(undefined);\r\n      setNewImage(undefined);\r\n    } else {\r\n      setUpdatedDisplayName(displayName);\r\n    }\r\n  }, [inEditMode, displayName]);\r\n\r\n  const onClickSave = async () => {\r\n    let image;\r\n    if (newImage) {\r\n      image = newImage.split(',')[1];\r\n    }\r\n\r\n    const body = {\r\n      displayName: updatedDisplayName,\r\n      image\r\n    };\r\n    try {\r\n      const response = await updateUser(username, body);\r\n      setInEditMode(false);\r\n      setUser(response.data);\r\n      dispatch(updateSuccess(response.data));\r\n    } catch (error) {\r\n      setValidationErrors(error.response.data.validationErrors);\r\n    }\r\n  };\r\n\r\n  const onChangeFile = event => {\r\n    if (event.target.files.length < 1) {\r\n      return;\r\n    }\r\n    const file = event.target.files[0];\r\n    const fileReader = new FileReader();\r\n    fileReader.onloadend = () => {\r\n      setNewImage(fileReader.result);\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  };\r\n\r\n  const onClickCancel = () => {\r\n    setModalVisible(false);\r\n  };\r\n\r\n  const onClickDeleteUser = async () => {\r\n    await deleteUser(username);\r\n    setModalVisible(false);\r\n    dispatch(logoutSuccess());\r\n    history.push('/');\r\n  };\r\n  const pendingApiCall = useApiProgress('put', '/api/1.0/users/' + username);\r\n\r\n  const { displayName: displayNameError, image: imageError } = validationErrors;\r\n\r\n  return (\r\n    <div className=\"card text-center\">\r\n      <div className=\"card-header\">\r\n        <ProfileImageWithDefault\r\n          className=\"rounded-circle shadow\"\r\n          width=\"200\"\r\n          height=\"200\"\r\n          alt={`${username} profile`}\r\n          image={image}\r\n          tempimage={newImage}\r\n        />\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {!inEditMode && (\r\n          <>\r\n            <h3>\r\n              {displayName}@{username}\r\n            </h3>\r\n            {editable && (\r\n              <>\r\n                <button className=\"btn btn-success d-inline-flex\" onClick={() => setInEditMode(true)}>\r\n                  <i className=\"material-icons\">edit</i>\r\n                  {t('Edit')}\r\n                </button>\r\n                <div className=\"pt-2\">\r\n                  <button className=\"btn btn-danger d-inline-flex\" onClick={() => setModalVisible(true)}>\r\n                    <i className=\"material-icons\">directions_run</i>\r\n                    {t('Delete My Account')}\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n        {inEditMode && (\r\n          <div>\r\n            <Input\r\n              label={t('Change Display Name')}\r\n              defaultValue={displayName}\r\n              onChange={event => {\r\n                setUpdatedDisplayName(event.target.value);\r\n              }}\r\n              error={displayNameError}\r\n            />\r\n            <Input type=\"file\" onChange={onChangeFile} error={imageError} />\r\n            <div>\r\n              <ButtonWithProgress\r\n                className=\"btn btn-primary d-inline-flex\"\r\n                onClick={onClickSave}\r\n                disabled={pendingApiCall}\r\n                pendingApiCall={pendingApiCall}\r\n                text={\r\n                  <>\r\n                    <i className=\"material-icons\">save</i>\r\n                    {t('Save')}\r\n                  </>\r\n                }\r\n              />\r\n              <button className=\"btn btn-light d-inline-flex ml-1\" onClick={() => setInEditMode(false)} disabled={pendingApiCall}>\r\n                <i className=\"material-icons\">close</i>\r\n                {t('Cancel')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Modal\r\n        visible={modalVisible}\r\n        title={t('Delete My Account')}\r\n        okButton={t('Delete My Account')}\r\n        onClickCancel={onClickCancel}\r\n        onClickOk={onClickDeleteUser}\r\n        message={t('Are you sure to delete your account?')}\r\n        pendingApiCall={pendingApiCallDeleteUser}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport ProfileCard from '../components/ProfileCard';\r\nimport { getUser } from '../api/apiCalls';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport Spinner from '../components/Spinner';\r\nimport HoaxFeed from '../components/HoaxFeed';\r\n\r\nconst UserPage = () => {\r\n  const [user, setUser] = useState({});\r\n  const [notFound, setNotFound] = useState(false);\r\n\r\n  const { username } = useParams();\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const pendingApiCall = useApiProgress('get', '/api/1.0/users/' + username, true);\r\n\r\n  useEffect(() => {\r\n    setNotFound(false);\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    const loadUser = async () => {\r\n      try {\r\n        const response = await getUser(username);\r\n        setUser(response.data);\r\n      } catch (error) {\r\n        setNotFound(true);\r\n      }\r\n    };\r\n    loadUser();\r\n  }, [username]);\r\n\r\n  if (notFound) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"alert alert-danger text-center\">\r\n          <div>\r\n            <i className=\"material-icons\" style={{ fontSize: '48px' }}>\r\n              error\r\n            </i>\r\n          </div>\r\n          {t('User not found')}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (pendingApiCall || user.username !== username) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <ProfileCard user={user} />\r\n        </div>\r\n        <div className=\"col\">\r\n          <HoaxFeed />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport logo from '../assets/hoaxify.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logoutSuccess } from '../redux/authActions';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\n\r\nconst TopBar = props => {\r\n  const { t } = useTranslation();\r\n\r\n  const { username, isLoggedIn, displayName, image } = useSelector(store => ({\r\n    isLoggedIn: store.isLoggedIn,\r\n    username: store.username,\r\n    displayName: store.displayName,\r\n    image: store.image\r\n  }));\r\n\r\n  const menuArea = useRef(null);\r\n\r\n  const [menuVisible, setMenuVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', menuClickTracker);\r\n    return () => {\r\n      document.removeEventListener('click', menuClickTracker);\r\n    };\r\n  }, [isLoggedIn]);\r\n\r\n  const menuClickTracker = event => {\r\n    if (menuArea.current === null || !menuArea.current.contains(event.target)) {\r\n      setMenuVisible(false);\r\n    }\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onLogoutSuccess = () => {\r\n    dispatch(logoutSuccess());\r\n  };\r\n\r\n  let links = (\r\n    <ul className=\"navbar-nav ml-auto\">\r\n      <li>\r\n        <Link className=\"nav-link\" to=\"/login\">\r\n          {t('Login')}\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link className=\"nav-link\" to=\"/signup\">\r\n          {t('Sign Up')}\r\n        </Link>\r\n      </li>\r\n    </ul>\r\n  );\r\n  if (isLoggedIn) {\r\n    let dropDownClass = 'dropdown-menu p-0 shadow';\r\n    if (menuVisible) {\r\n      dropDownClass += ' show';\r\n    }\r\n\r\n    links = (\r\n      <ul className=\"navbar-nav ml-auto\" ref={menuArea}>\r\n        <li className=\"nav-item dropdown\">\r\n          <div className=\"d-flex\" style={{ cursor: 'pointer' }} onClick={() => setMenuVisible(true)}>\r\n            <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle m-auto\" />\r\n            <span className=\"nav-link dropdown-toggle\">{displayName}</span>\r\n          </div>\r\n          <div className={dropDownClass}>\r\n            <Link className=\"dropdown-item d-flex p-2\" to={`/user/${username}`} onClick={() => setMenuVisible(false)}>\r\n              <i className=\"material-icons text-info mr-2\">person</i>\r\n              {t('My Profile')}\r\n            </Link>\r\n            <span className=\"dropdown-item  d-flex p-2\" onClick={onLogoutSuccess} style={{ cursor: 'pointer' }}>\r\n              <i className=\"material-icons text-danger mr-2\">power_settings_new</i>\r\n              {t('Logout')}\r\n            </span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"shadow-sm bg-light mb-2\">\r\n      <nav className=\"navbar navbar-light container navbar-expand\">\r\n        <Link className=\"navbar-brand\" to=\"/\">\r\n          <img src={logo} width=\"60\" alt=\"Hoaxify Logo\" />\r\n          Hoaxify\r\n        </Link>\r\n        {links}\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TopBar;\r\n","import React from 'react';\nimport UserSignupPage from '../pages/UserSignupPage';\nimport LoginPage from '../pages/LoginPage';\nimport LanguageSelector from '../components/LanguageSelector';\nimport HomePage from '../pages/HomePage';\nimport UserPage from '../pages/UserPage';\nimport { HashRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\nimport TopBar from '../components/TopBar';\nimport { useSelector } from 'react-redux';\n\nconst App = () => {\n  const { isLoggedIn } = useSelector(store => ({\n    isLoggedIn: store.isLoggedIn\n  }));\n\n  return (\n    <div>\n      <Router>\n        <TopBar />\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          {!isLoggedIn && <Route path=\"/login\" component={LoginPage} />}\n          <Route path=\"/signup\" component={UserSignupPage} />\n          <Route path=\"/user/:username\" component={UserPage} />\n          <Redirect to=\"/\" />\n        </Switch>\n      </Router>\n      <LanguageSelector />\n    </div>\n  );\n};\n\nexport default App;\n","import * as ACTIONS from './Constants';\r\n\r\nconst defaultState = {\r\n  isLoggedIn: false,\r\n  username: undefined,\r\n  displayName: undefined,\r\n  image: undefined,\r\n  password: undefined\r\n};\r\n\r\nconst authReducer = (state = { ...defaultState }, action) => {\r\n  if (action.type === ACTIONS.LOGOUT_SUCCESS) {\r\n    return defaultState;\r\n  } else if (action.type === ACTIONS.LOGIN_SUCCESS) {\r\n    return {\r\n      ...action.payload,\r\n      isLoggedIn: true\r\n    };\r\n  } else if (action.type === ACTIONS.UPDATE_SUCCESS) {\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    };\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default authReducer;\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport authReducer from './authReducer';\r\nimport SecureLS from 'secure-ls';\r\nimport { setAuthorizationHeader } from '../api/apiCalls';\r\n\r\nconst secureLs = new SecureLS();\r\n\r\nconst getStateFromStorage = () => {\r\n  const hoaxAuth = secureLs.get('hoax-auth');\r\n\r\n  let stateInLocalStorage = {\r\n    isLoggedIn: false,\r\n    username: undefined,\r\n    displayName: undefined,\r\n    image: undefined,\r\n    password: undefined\r\n  };\r\n\r\n  if (hoaxAuth) {\r\n    return hoaxAuth;\r\n  }\r\n  return stateInLocalStorage;\r\n};\r\n\r\nconst updateStateInStorage = newState => {\r\n  secureLs.set('hoax-auth', newState);\r\n};\r\n\r\nconst configureStore = () => {\r\n  const initialState = getStateFromStorage();\r\n  setAuthorizationHeader(initialState);\r\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n  const store = createStore(authReducer, initialState, composeEnhancers(applyMiddleware(thunk)));\r\n\r\n  store.subscribe(() => {\r\n    updateStateInStorage(store.getState());\r\n    setAuthorizationHeader(store.getState());\r\n  });\r\n\r\n  return store;\r\n};\r\n\r\nexport default configureStore;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './bootstrap-override.scss';\nimport * as serviceWorker from './serviceWorker';\nimport './i18n';\nimport App from './container/App';\nimport { Provider } from 'react-redux';\nimport configureStore from './redux/configureStore';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}