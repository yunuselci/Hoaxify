(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/profile.926fda93.png"},49:function(e,t,a){e.exports=a.p+"static/media/hoaxify.2dcb4821.png"},52:function(e,t,a){e.exports=a(91)},57:function(e,t,a){},58:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),s=a.n(c);a(57),a(58),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(33),o=a(5),l=a(27);i.a.use(o.a).init({resources:{en:{translations:{"Sign Up":"Sign Up","Password mismatch":"Password mismatch",Username:"Username","Display Name":"Display Name",Password:"Password","Password Repeat":"Password Repeat",Login:"Login",Logout:"Logout",Users:"Users",Next:"next >",Previous:"< previous","Load Failure":"Load Failure","User not found":"User not found",Edit:"Edit","Change Display Name":"Change Display Name",Save:"Save",Cancel:"Cancel","My Profile":"My Profile","There are no hoaxes":"There are no hoaxes","Load old hoaxes":"Load old hoaxes","There are new hoaxes":"There are new hoaxes","Delete Hoax":"Delete Hoax","Are you sure to delete hoax?":"Are you sure to delete hoax?","Delete My Account":"Delete My Account","Are you sure to delete your account?":"Are you sure to delete your account?"}},tr:{translations:{"Sign Up":"Kay\u0131t Ol","Password mismatch":"Ayn\u0131 \u015fifreyi giriniz",Username:"Kullan\u0131c\u0131 Ad\u0131","Display Name":"Tercih Edilen \u0130sim",Password:"\u015eifre","Password Repeat":"\u015eifreyi Tekrarla",Login:"Sisteme Gir",Logout:"\xc7\u0131k",Users:"Kullan\u0131c\u0131lar",Next:"sonraki >",Previous:"< \xf6nceki","Load Failure":"Liste al\u0131namad\u0131","User not found":"Kullan\u0131c\u0131 bulunamad\u0131",Edit:"D\xfczenle","Change Display Name":"G\xf6r\xfcn\xfcr \u0130sminizi De\u011fi\u015ftirin",Save:"Kaydet",Cancel:"\u0130ptal Et","My Profile":"Hesab\u0131m","There are no hoaxes":"Hoax bulunamad\u0131","Load old hoaxes":"Ge\xe7mi\u015f Hoaxlar\u0131 getir","There are new hoaxes":"Yeni Hoaxlar var","Delete Hoax":"Hoax'u sil","Are you sure to delete hoax?":"Hoax'u silmek isted\u011finizden emin misiniz?","Delete My Account":"Hesab\u0131m\u0131 Sil","Are you sure to delete your account?":"Hesab\u0131n\u0131z\u0131 silmek istedi\u011finizden emin misiniz?"}}},fallbackLng:"en",ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});Object(l.b)("tr",(function(e,t){return[["az \xf6nce","\u015fimdi"],["%s saniye \xf6nce","%s saniye i\xe7inde"],["1 dakika \xf6nce","1 dakika i\xe7inde"],["%s dakika \xf6nce","%s dakika i\xe7inde"],["1 saat \xf6nce","1 saat i\xe7inde"],["%s saat \xf6nce","%s saat i\xe7inde"],["1 g\xfcn \xf6nce","1 g\xfcn i\xe7inde"],["%s g\xfcn \xf6nce","%s g\xfcn i\xe7inde"],["1 hafta \xf6nce","1 hafta i\xe7inde"],["%s hafta \xf6nce","%s hafta i\xe7inde"],["1 ay \xf6nce","1 ay i\xe7inde"],["%s ay \xf6nce","%s ay i\xe7inde"],["1 y\u0131l \xf6nce","1 y\u0131l i\xe7inde"],["%s y\u0131l \xf6nce","%s y\u0131l i\xe7inde"]][t]}));i.a;var u=a(1),m=a.n(u),d=a(4),p=a(19),f=a(8),b=a(2),v=function(e){var t=e.label,a=e.error,n=e.name,c=e.onChange,s=e.type,i=e.defaultValue,o="form-control";return"file"===s&&(o+="-file"),void 0!==a&&(o+=" is-invalid"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,t),r.a.createElement("input",{className:o,name:n,onChange:c,type:s,defaultValue:i}),r.a.createElement("div",{className:"invalid-feedback"},e.error))},g=function(e){var t=e.onClick,a=e.pendingApiCall,n=e.disabled,c=e.text,s=e.className;return r.a.createElement("button",{className:s||"btn btn-primary",onClick:t,disabled:n},a&&r.a.createElement("span",{className:"spinner-border spinner-border-sm"})," ",c)},h=a(6),E=a.n(h),x=function(e,t,a){var r=Object(n.useState)(!1),c=Object(b.a)(r,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){var n,r,c=function(n,r,c){n===e&&(a&&r===t?i(c):!a&&r.startsWith(t)&&i(c))};return n=E.a.interceptors.request.use((function(e){var t=e.url,a=e.method;return c(a,t,!0),e})),r=E.a.interceptors.response.use((function(e){var t=e.config,a=t.url,n=t.method;return c(n,a,!1),e}),(function(e){var t=e.config,a=t.url,n=t.method;throw c(n,a,!1),e})),function(){E.a.interceptors.request.eject(n),E.a.interceptors.response.eject(r)}}),[t,e,a]),s},O=a(7),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return E.a.get("/api/1.0/users?page=".concat(e,"&size=").concat(t))},y=function(e){var t=e.isLoggedIn,a=e.token;if(t){var n="Bearer ".concat(a);E.a.defaults.headers.Authorization=n}else delete E.a.defaults.headers.Authorization},N=function(e){return E.a.get("/api/1.0/users/".concat(e))},w=function(e,t){return E.a.put("/api/1.0/users/".concat(e),t)},k=function(e){return E.a.post("/api/1.0/hoaxes",e)},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e?"/api/1.0/users/".concat(e,"/hoaxes?page="):"/api/1.0/hoaxes?page=";return E.a.get(a+t)},S=function(e,t){var a=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e):"/api/1.0/hoaxes/".concat(e);return E.a.get(a)},L=function(e,t){var a=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e,"?count=true"):"/api/1.0/hoaxes/".concat(e,"?count=true");return E.a.get(a)},A=function(e,t){var a=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e,"?direction=after"):"/api/1.0/hoaxes/".concat(e,"?direction=after");return E.a.get(a)},D=function(e){return E.a.post("/api/1.0/hoax-attachments",e)},U=function(e){return E.a.delete("/api/1.0/hoaxes/".concat(e))},P=function(e){return E.a.delete("/api/1.0/users/".concat(e))},H=function(){return function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("/api/1.0/logout");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:t({type:"logout-success"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},I=function(e){return{type:"login-success",payload:e}},F=function(e){return function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c=e,E.a.post("/api/1.0/auth",c);case 2:return n=t.sent,r=Object(f.a)({},n.data.user,{password:e.password,token:n.data.token}),a(I(r)),t.abrupt("return",n);case 6:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r=e,E.a.post("/api/1.0/users",r);case 2:return n=t.sent,t.next=5,a(F(e));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(e){var t,a=Object(n.useState)({username:null,displayName:null,password:null,passwordRepeat:null}),c=Object(b.a)(a,2),s=c[0],i=c[1],l=Object(n.useState)({}),u=Object(b.a)(l,2),h=u[0],E=u[1],j=Object(O.b)(),y=function(e){var t=e.target,a=t.name,n=t.value;E((function(e){return Object(f.a)({},e,Object(p.a)({},a,void 0))})),i((function(e){return Object(f.a)({},e,Object(p.a)({},a,n))}))},N=function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r,c,i,o,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.history,r=n.push,c=s.username,i=s.displayName,o=s.password,l={username:c,displayName:i,password:o},t.prev=5,t.next=8,j(T(l));case 8:r("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),t.t0.response.data.validationErrors&&E(t.t0.response.data.validationErrors);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),w=Object(o.b)().t,k=h.username,C=h.displayName,S=h.password,L=x("post","/api/1.0/users"),A=x("post","/api/1.0/auth"),D=L||A;return s.password!==s.passwordRepeat&&(t=w("Password mismatch")),r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement("h1",{className:"text-center"},w("Sign Up")),r.a.createElement(v,{name:"username",label:w("Username"),error:k,onChange:y}),r.a.createElement(v,{name:"displayName",label:w("Display Name"),error:C,onChange:y}),r.a.createElement(v,{name:"password",label:w("Password"),error:S,onChange:y,type:"password"}),r.a.createElement(v,{name:"passwordRepeat",label:w("Password Repeat"),error:t,onChange:y,type:"password"}),r.a.createElement("div",{className:"text-center"},r.a.createElement(g,{onClick:N,disabled:D||void 0!==t,pendingApiCall:D,text:w("Sign Up")}))))},R=function(e){var t=Object(n.useState)(),a=Object(b.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(),l=Object(b.a)(i,2),u=l[0],p=l[1],f=Object(n.useState)(),h=Object(b.a)(f,2),E=h[0],j=h[1],y=Object(O.b)();Object(n.useEffect)((function(){j(void 0)}),[c,u]);var N=function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={username:c,password:u},r=e.history,s=r.push,j(void 0),t.prev=5,t.next=8,y(F(n));case 8:s("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),j(t.t0.response.data.message);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),w=Object(o.b)().t,k=x("post","/api/1.0/auth"),C=c&&u;return r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement("h1",{className:"text-center"},w("Login")),r.a.createElement(v,{label:w("Username"),onChange:function(e){return s(e.target.value)}}),r.a.createElement(v,{label:w("Password"),type:"password",onChange:function(e){return p(e.target.value)}}),E&&r.a.createElement("div",{className:"alert alert-danger"},E),r.a.createElement("div",{className:"text-center"},r.a.createElement(g,{onClick:N,disabled:!C||k,pendingApiCall:k,text:w("Login")}))))},M=function(e){var t=Object(o.b)().i18n,a=function(e){t.changeLanguage(e),function(e){E.a.defaults.headers["accept-language"]=e}(e)};return r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:"https://www.countryflags.io/tr/flat/24.png",alt:"Turkish Flag",onClick:function(){return a("tr")},style:{cursor:"pointer"}}),r.a.createElement("img",{src:"https://www.countryflags.io/us/flat/24.png",alt:"USA Flag",onClick:function(){return a("en")},style:{cursor:"pointer"}}))},_=a(9),B=a(30),K=a.n(B),V=function(e){var t=e.image,a=e.tempimage,n=K.a;return t&&(n="images/profile/"+t),r.a.createElement("img",Object.assign({alt:"Profile",src:a||n},e,{onError:function(e){e.target.src=K.a}}))},W=function(e){var t=e.user,a=t.username,n=t.displayName,c=t.image;return r.a.createElement(_.b,{to:"/user/".concat(a),className:"list-group-item list-group-item-action"},r.a.createElement(V,{className:"rounded-circle",width:"32",height:"32",alt:"".concat(a," profile"),image:c}),r.a.createElement("span",{className:"pl-2"},n,"@",a))},G=function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-black-50"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},q=function(){var e=Object(n.useState)({content:[],size:3,number:0}),t=Object(b.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(b.a)(s,2),l=i[0],u=i[1],p=x("get","/api/1.0/users?page");Object(n.useEffect)((function(){f()}),[]);var f=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.prev=1,e.next=4,j(t);case 4:a=e.sent,c(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),v=Object(o.b)().t,g=a.content,h=a.last,E=a.first,O=r.a.createElement("div",null,!1===E&&r.a.createElement("button",{className:"btn btn-sm btn-light",onClick:function(){var e=a.number-1;f(e)}},v("Previous")),!1===h&&r.a.createElement("button",{className:"btn btn-sm btn-light float-right",onClick:function(){var e=a.number+1;f(e)}},v("Next")));return p&&(O=r.a.createElement(G,null)),r.a.createElement("div",{className:"card"},r.a.createElement("h3",{className:"card-header text-center"},v("Users")),r.a.createElement("div",{className:"list-group-flush"},g.map((function(e){return r.a.createElement(W,{key:e.username,user:e})}))),O,l&&r.a.createElement("div",{className:"text-center text-danger"},v("Load Failure")))},J=(a(90),function(e){var t=e.image,a=e.uploading;return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("img",{className:"img-thumbnail",src:t,alt:"hoax-attachment"}),r.a.createElement("div",{className:"overlay",style:{opacity:a?1:0}},r.a.createElement("div",{className:"d-flex justify-content-center h-100"},r.a.createElement("div",{className:"spinner-border text-light m-auto"},r.a.createElement("span",{className:"sr-only"},"Loading...")))))}),X=function(){var e=Object(O.c)((function(e){return{image:e.image}})).image,t=Object(n.useState)(!1),a=Object(b.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),l=Object(b.a)(i,2),u=l[0],p=l[1],f=Object(n.useState)({}),h=Object(b.a)(f,2),E=h[0],j=h[1],y=Object(n.useState)(),N=Object(b.a)(y,2),w=N[0],C=N[1],S=Object(n.useState)(),L=Object(b.a)(S,2),A=L[0],U=L[1],P=Object(o.b)().t;Object(n.useEffect)((function(){c||(p(""),j({}),C(),U())}),[c]),Object(n.useEffect)((function(){j({})}),[u]);var H=x("post","/api/1.0/hoaxes",!0),I=x("post","/api/1.0/hoax-attachments",!0),F=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={content:u,attachmentId:A},e.prev=1,e.next=4,k(t);case 4:s(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response.data.validationErrors&&j(e.t0.response.data.validationErrors);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.next=4,D(a);case 4:n=e.sent,U(n.data.id);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z="form-control";return E.content&&(z+=" is-invalid"),r.a.createElement("div",{className:"card p-1 flex-row"},r.a.createElement(V,{image:e,width:"32",height:"32",className:"rounded-circle mr-1"}),r.a.createElement("div",{className:"flex-fill"},r.a.createElement("textarea",{className:z,rows:c?"3":"1",onFocus:function(){return s(!0)},onChange:function(e){return p(e.target.value)},value:u}),r.a.createElement("div",{className:"invalid-feedback"},E.content),c&&r.a.createElement(r.a.Fragment,null,!w&&r.a.createElement(v,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){C(a.result),T(t)},a.readAsDataURL(t)}}}),w&&r.a.createElement(J,{image:w,uploading:I}),r.a.createElement("div",{className:"text-right mt-1"},r.a.createElement(g,{className:"btn btn-primary",onClick:F,text:"Hoaxify",pendingApiCall:H,disabled:H||I}),r.a.createElement("button",{className:"btn btn-light d-inline-flex ml-1",onClick:function(){return s(!1)},disabled:H||I},r.a.createElement("i",{className:"material-icons"},"close"),P("Cancel"))))))},Y=a(16),$=function(e){var t=e.visible,a=e.onClickCancel,n=e.message,c=e.onClickOk,s=e.pendingApiCall,i=e.title,l=e.okButton,u=Object(o.b)().t,m="modal fade";return t&&(m+=" show d-block"),r.a.createElement("div",{className:m,style:{backgroundColor:"#000000b0"}},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},i)),r.a.createElement("div",{className:"modal-body"},n),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-secondary",disabled:s,onClick:a},u("Cancel")),r.a.createElement(g,{className:"btn btn-danger",onClick:c,pendingApiCall:s,disabled:s,text:l})))))},Q=function(e){var t=Object(O.c)((function(e){return e.username})),a=e.hoax,c=e.onDeleteHoax,s=a.user,i=a.content,u=a.timestamp,p=a.fileAttachment,f=a.id,v=s.username,g=s.displayName,h=s.image,E=Object(n.useState)(!1),j=Object(b.a)(E,2),y=j[0],N=j[1],w=x("delete","/api/1.0/hoaxes/".concat(f),!0),k=Object(o.b)(),C=k.t,S=k.i18n,L=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(f);case 2:c(f);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=Object(l.a)(u,S.language),D=t===v;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card p-1"},r.a.createElement("div",{className:"d-flex"},r.a.createElement(V,{image:h,width:"32",height:"32",className:"rounded-circle m-1"}),r.a.createElement("div",{className:"flex-fill m-auto pl-2"},r.a.createElement(_.b,{to:"/user/".concat(v),className:"text-dark"},r.a.createElement("h6",{className:"d-inline"},g,"@",v),r.a.createElement("span",null," - "),r.a.createElement("span",null,A))),D&&r.a.createElement("button",{className:"btn btn-delete-link btn-sm",onClick:function(){return N(!0)}},r.a.createElement("i",{className:"material-icons"},"delete_outline"))),r.a.createElement("div",{className:"pl-5"},i),p&&r.a.createElement("div",{className:"pl-5"},p.fileType.startsWith("image")&&r.a.createElement("img",{className:"img-fluid",src:"images/attachments/"+p.name,alt:i}),!p.fileType.startsWith("image")&&r.a.createElement("strong",null,"Hoax has unknown attachment"))),r.a.createElement($,{visible:y,title:C("Delete Hoax"),onClickCancel:function(){N(!1)},onClickOk:L,message:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("strong",null,C("Are you sure to delete hoax?"))),r.a.createElement("span",null,i)),pendingApiCall:w,okButton:C("Delete Hoax")}))},Z=a(18),ee=function(){var e=Object(n.useState)({content:[],last:!0,number:0}),t=Object(b.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(0),i=Object(b.a)(s,2),l=i[0],u=i[1],p=Object(o.b)().t,v=Object(Z.h)().username,g=v?"/api/1.0/users/".concat(v,"/hoaxes?page="):"/api/1.0/hoaxes?page=",h=x("get",g),E=0,O=0;if(a.content.length>0){O=a.content[0].id;var j=a.content.length-1;E=a.content[j].id}var y=v?"/api/1.0/users/".concat(v,"/hoaxes/").concat(E):"/api/1.0/hoaxes/".concat(E),N=x("get",y,!0),w=v?"/api/1.0/users/".concat(v,"/hoaxes/").concat(O,"?direction=after"):"/api/1.0/hoaxes/".concat(O,"?direction=after"),k=x("get",w,!0);Object(n.useEffect)((function(){var e=setInterval(function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(O,v);case 2:t=e.sent,u(t.data.count);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),5e3);return function(){clearInterval(e)}}),[O,v]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(v,t);case 3:a=e.sent,c((function(e){return Object(f.a)({},a.data,{content:[].concat(Object(Y.a)(e.content),Object(Y.a)(a.data.content))})})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()()}),[v]);var D=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(E,v);case 2:t=e.sent,c((function(e){return Object(f.a)({},t.data,{content:[].concat(Object(Y.a)(e.content),Object(Y.a)(t.data.content))})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(O,v);case 2:t=e.sent,c((function(e){return Object(f.a)({},e,{content:[].concat(Object(Y.a)(t.data),Object(Y.a)(e.content))})})),u(0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){c((function(t){return Object(f.a)({},t,{content:t.content.filter((function(t){return t.id!==e}))})}))},H=a.content,I=a.last;return 0===H.length?r.a.createElement("div",{className:"alert alert-secondary text-center"},h?r.a.createElement(G,null):p("There are no hoaxes")):r.a.createElement("div",null,l>0&&r.a.createElement("div",{className:"alert alert-secondary text-center mb-1",style:{cursor:k?"not-allowed":"pointer"},onClick:k?function(){}:U},k?r.a.createElement(G,null):p("There are new hoaxes")),H.map((function(e){return r.a.createElement(Q,{key:e.id,hoax:e,onDeleteHoax:P})})),!I&&r.a.createElement("div",{className:"alert alert-secondary text-center",style:{cursor:N?"not-allowed":"pointer"},onClick:N?function(){}:D},N?r.a.createElement(G,null):p("Load old hoaxes")))},te=function(){var e=Object(O.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},e&&r.a.createElement("div",{className:"mb-1"},r.a.createElement(X,null)),r.a.createElement(ee,null)),r.a.createElement("div",{className:"col"},r.a.createElement(q,null))))},ae=function(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(),l=Object(b.a)(i,2),u=l[0],p=l[1],h=Object(O.c)((function(e){return{username:e.username}})).username,E=Object(Z.h)().username,j=Object(n.useState)({}),y=Object(b.a)(j,2),N=y[0],k=y[1],C=Object(n.useState)(!1),S=Object(b.a)(C,2),L=S[0],A=S[1],D=Object(n.useState)(),U=Object(b.a)(D,2),I=U[0],F=U[1],T=Object(n.useState)({}),z=Object(b.a)(T,2),R=z[0],M=z[1],_=Object(n.useState)(!1),B=Object(b.a)(_,2),K=B[0],W=B[1],G=Object(O.b)(),q=Object(Z.g)();Object(n.useEffect)((function(){k(e.user)}),[e.user]),Object(n.useEffect)((function(){A(E===h)}),[E,h]),Object(n.useEffect)((function(){M((function(e){return Object(f.a)({},e,{displayName:void 0})}))}),[u]),Object(n.useEffect)((function(){M((function(e){return Object(f.a)({},e,{image:void 0})}))}),[I]);var J=N.username,X=N.displayName,Y=N.image,Q=x("delete","/api/1.0/users/".concat(J),!0),ee=Object(o.b)().t;Object(n.useEffect)((function(){c?p(X):(p(void 0),F(void 0))}),[c,X]);var te=function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I&&(t=I.split(",")[1]),a={displayName:u,image:t},e.prev=2,e.next=5,w(J,a);case 5:n=e.sent,s(!1),k(n.data),G({type:"update-success",payload:{displayName:(r=n.data).displayName,image:r.image}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),M(e.t0.response.data.validationErrors);case 14:case"end":return e.stop()}var r}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(J);case 2:W(!1),G(H()),q.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=x("put","/api/1.0/users/"+J),re=R.displayName,ce=R.image;return r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-header"},r.a.createElement(V,{className:"rounded-circle shadow",width:"200",height:"200",alt:"".concat(J," profile"),image:Y,tempimage:I})),r.a.createElement("div",{className:"card-body"},!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,X,"@",J),L&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-success d-inline-flex",onClick:function(){return s(!0)}},r.a.createElement("i",{className:"material-icons"},"edit"),ee("Edit")),r.a.createElement("div",{className:"pt-2"},r.a.createElement("button",{className:"btn btn-danger d-inline-flex",onClick:function(){return W(!0)}},r.a.createElement("i",{className:"material-icons"},"directions_run"),ee("Delete My Account"))))),c&&r.a.createElement("div",null,r.a.createElement(v,{label:ee("Change Display Name"),defaultValue:X,onChange:function(e){p(e.target.value)},error:re}),r.a.createElement(v,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){F(a.result)},a.readAsDataURL(t)}},error:ce}),r.a.createElement("div",null,r.a.createElement(g,{className:"btn btn-primary d-inline-flex",onClick:te,disabled:ne,pendingApiCall:ne,text:r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"save"),ee("Save"))}),r.a.createElement("button",{className:"btn btn-light d-inline-flex ml-1",onClick:function(){return s(!1)},disabled:ne},r.a.createElement("i",{className:"material-icons"},"close"),ee("Cancel"))))),r.a.createElement($,{visible:K,title:ee("Delete My Account"),okButton:ee("Delete My Account"),onClickCancel:function(){W(!1)},onClickOk:ae,message:ee("Are you sure to delete your account?"),pendingApiCall:Q}))},ne=function(){var e=Object(n.useState)({}),t=Object(b.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(b.a)(s,2),l=i[0],u=i[1],p=Object(Z.h)().username,f=Object(o.b)().t,v=x("get","/api/1.0/users/"+p,!0);return Object(n.useEffect)((function(){u(!1)}),[a]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(p);case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[p]),l?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"alert alert-danger text-center"},r.a.createElement("div",null,r.a.createElement("i",{className:"material-icons",style:{fontSize:"48px"}},"error")),f("User not found"))):v||a.username!==p?r.a.createElement(G,null):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(ae,{user:a})),r.a.createElement("div",{className:"col"},r.a.createElement(ee,null))))},re=a(49),ce=a.n(re),se=function(e){var t=Object(o.b)().t,a=Object(O.c)((function(e){return{isLoggedIn:e.isLoggedIn,username:e.username,displayName:e.displayName,image:e.image}})),c=a.username,s=a.isLoggedIn,i=a.displayName,l=a.image,u=Object(n.useRef)(null),m=Object(n.useState)(!1),d=Object(b.a)(m,2),p=d[0],f=d[1];Object(n.useEffect)((function(){return document.addEventListener("click",v),function(){document.removeEventListener("click",v)}}),[s]);var v=function(e){null!==u.current&&u.current.contains(e.target)||f(!1)},g=Object(O.b)(),h=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",null,r.a.createElement(_.b,{className:"nav-link",to:"/login"},t("Login"))),r.a.createElement("li",null,r.a.createElement(_.b,{className:"nav-link",to:"/signup"},t("Sign Up"))));if(s){var E="dropdown-menu p-0 shadow";p&&(E+=" show"),h=r.a.createElement("ul",{className:"navbar-nav ml-auto",ref:u},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("div",{className:"d-flex",style:{cursor:"pointer"},onClick:function(){return f(!0)}},r.a.createElement(V,{image:l,width:"32",height:"32",className:"rounded-circle m-auto"}),r.a.createElement("span",{className:"nav-link dropdown-toggle"},i)),r.a.createElement("div",{className:E},r.a.createElement(_.b,{className:"dropdown-item d-flex p-2",to:"/user/".concat(c),onClick:function(){return f(!1)}},r.a.createElement("i",{className:"material-icons text-info mr-2"},"person"),t("My Profile")),r.a.createElement("span",{className:"dropdown-item  d-flex p-2",onClick:function(){g(H())},style:{cursor:"pointer"}},r.a.createElement("i",{className:"material-icons text-danger mr-2"},"power_settings_new"),t("Logout")))))}return r.a.createElement("div",{className:"shadow-sm bg-light mb-2"},r.a.createElement("nav",{className:"navbar navbar-light container navbar-expand"},r.a.createElement(_.b,{className:"navbar-brand",to:"/"},r.a.createElement("img",{src:ce.a,width:"60",alt:"Hoaxify Logo"}),"Hoaxify"),h))},ie=function(){var e=Object(O.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement(se,null),r.a.createElement(Z.d,null,r.a.createElement(Z.b,{exact:!0,path:"/",component:te}),!e&&r.a.createElement(Z.b,{path:"/login",component:R}),r.a.createElement(Z.b,{path:"/signup",component:z}),r.a.createElement(Z.b,{path:"/user/:username",component:ne}),r.a.createElement(Z.a,{to:"/"}))),r.a.createElement(M,null))},oe=a(22),le=a(50),ue={isLoggedIn:!1,username:void 0,displayName:void 0,image:void 0,password:void 0},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(f.a)({},ue),t=arguments.length>1?arguments[1]:void 0;return"logout-success"===t.type?ue:"login-success"===t.type?Object(f.a)({},t.payload,{isLoggedIn:!0}):"update-success"===t.type?Object(f.a)({},e,{},t.payload):e},de=a(51),pe=new(a.n(de).a),fe=function(){var e=function(){var e=pe.get("hoax-auth");return e||{isLoggedIn:!1,username:void 0,displayName:void 0,image:void 0,password:void 0}}();y(e);var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.c,a=Object(oe.d)(me,e,t(Object(oe.a)(le.a)));return a.subscribe((function(){var e;e=a.getState(),pe.set("hoax-auth",e),y(a.getState())})),a}();s.a.render(r.a.createElement(O.a,{store:fe},r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.be5b0c11.chunk.js.map